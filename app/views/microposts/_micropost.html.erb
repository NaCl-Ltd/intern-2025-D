<li class="micropost-<%= micropost.class %>">
  <%= link_to gravatar_for(micropost.user, size: 50), micropost.user %>
  <span class="user"><%= link_to micropost.user.name, micropost.user %></span>
  <span class="content">
    <%= micropost.content %>
    <% if micropost.image.attached? %>
      <%= image_tag micropost.image.variant(:display) %>
    <% end %>
  </span>
  <span class="timestamp">
    Posted <%= time_ago_in_words(micropost.created_at) %> ago.
    <% if current_user?(micropost.user) %>
      <%= link_to "delete", micropost, data: { "turbo-method": :delete,
                                                turbo_confirm: "You sure?" } %>
      <% if micropost.pinned_by_id.present? %>
        <%= link_to "unfix", unfix_micropost_path(micropost), data: { "turbo-method": :post,
                                                                         turbo_confirm: "You sure?" } %>
      <% else %>
        <%= link_to "fix", fix_micropost_path(micropost), data: { "turbo-method": :post,
                                                                       turbo_confirm: "You sure?" } %> 
      <% end %>                                     
    <% end %>

  </span>

  <div class="row">
    <div class="interaction">
    
      <span class="repost" data-controller="repost">
        <%= image_tag "retweet.png", width:"20", data: { controller:"toggle", action: "click->repost#toggle" } %>
        <span style="margin-left: 5px;">repost</span>
      </span>


      <div id="like-btn<%= micropost.id %>">
        <%= render partial: "likes/like", locals: { micropost: micropost } %>
      </div>
        
      <div id="favorite-btn<%= micropost.id %>">
        <%= render partial: "favorites/favorite", locals: { micropost: micropost } %>
      </div>
    </div>


    <div class="comment">
      <div class="interaction2">
        <button class="show-comment-box">
          <%= image_tag "chat.png", width:"20" %>
        </button>
        <span style="margin-left: 5px; margin-top: 2px;">comment</span>
      </div>

      <div class="comment-box" style="display: none;">
        <textarea class="comment-input" placeholder="Please enter your comments"></textarea>
        <button class="save-comment">save</button>
      </div>

      <div class="comment-list"></div>

    </div>
  </div>
</li>
